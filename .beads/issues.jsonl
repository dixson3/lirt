{"id":"hq-19f","title":"Session-start remote branch detection for private branch rigs","description":"Implement session-start detection to check if remote tracking branch still exists.\n\n**Context**: Private branch protocol risk - agent might work on orphaned local branch if remote was deleted after MR merge.\n\n**Implementation**:\n- Add check at session start for ai_agents and zero rigs\n- Run: git fetch --prune origin\n- Check: git ls-remote --heads origin dixson3/track\n- If remote deleted: Alert agent that local branch is orphaned\n- Recommend sync before continuing work\n\n**Benefits**:\n- Prevents work accumulating on disconnected branch\n- Early warning system for Scenario A (branch removed)\n- Reduces risk of surprise at push time\n\n**Related**: mayor/docs/PRIVATE-BRANCH-PROTOCOL-REVIEW.md Challenge 2\n\n**Acceptance Criteria**:\n- Detection script created\n- Integrated into session startup\n- Clear alert message to agent\n- Recommendation for sync action","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-24T12:45:29.653227-08:00","created_by":"mayor","updated_at":"2026-01-24T12:45:29.653227-08:00"}
{"id":"hq-2sn","title":"Backup strategy for private tracking branches","description":"Implement periodic backup strategy for dixson3/track branches on ai_agents and zero.\n\n**Context**: Local tracking branches contain unpublished work. No remote backup unless explicitly pushed.\n\n**Backup Strategy**:\nOptions to consider:\n1. **Periodic snapshots**: Weekly backup branches to remote\n   - Naming: dixson3/track-backup-YYYYMMDD\n   - Cleanup: Delete backups older than 30 days\n2. **Pre-MR backup**: Automatic backup before creating MR\n   - Naming: dixson3/track-pre-mr-TIMESTAMP\n3. **On-demand**: Manual backup command\n   - Usage: gt backup-branch --rig ai_agents\n\n**Implementation**:\n- Script or formula for backup creation\n- Cleanup mechanism for old backups\n- Clear naming convention\n- Documentation in protocol\n\n**Trade-offs**:\n- Pro: Safety net for local work\n- Pro: Disaster recovery option\n- Con: Remote repository clutter\n- Con: Additional maintenance\n\n**Benefits**:\n- Work preservation\n- Peace of mind\n- Recovery from local failures\n- No work loss risk\n\n**Related**: mayor/docs/PRIVATE-BRANCH-PROTOCOL-REVIEW.md Challenge (deferred)\n\n**Acceptance Criteria**:\n- Backup mechanism chosen\n- Implementation complete\n- Cleanup automation\n- Documentation updated\n- Tested on both rigs","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-24T12:45:59.286525-08:00","created_by":"mayor","updated_at":"2026-01-24T12:45:59.286525-08:00"}
{"id":"hq-5jg","title":"Alternative push triggers for private branches","description":"Design and implement alternative push triggers beyond explicit overseer request.\n\n**Context**: Current protocol only pushes on explicit overseer command. Explore other trigger options.\n\n**Potential Triggers**:\n1. **Commit count**: Push after N commits (e.g., every 10 commits)\n   - Pro: Regular checkpoints\n   - Con: Might push incomplete work\n2. **Time-based**: Push weekly/daily\n   - Pro: Consistent backup cadence\n   - Con: May miss important work\n3. **Keyword-based**: Commit message with [PUBLISH] or [PUSH]\n   - Pro: Explicit but agent-driven\n   - Con: Easy to forget\n4. **Milestone-based**: After completing a bead/issue\n   - Pro: Logical checkpoints\n   - Con: Requires integration\n5. **Size-based**: Push when diff exceeds threshold\n   - Pro: Captures significant work\n   - Con: Arbitrary cutoff\n\n**Design Considerations**:\n- Should triggers be opt-in per rig?\n- How to prevent unwanted pushes?\n- Override mechanism?\n- Notification to overseer?\n\n**Related**: mayor/docs/PRIVATE-BRANCH-PROTOCOL-REVIEW.md Sidequests\n\n**Acceptance Criteria**:\n- Trigger options evaluated\n- Recommendation with pros/cons\n- Prototype implementation (if approved)\n- Configuration mechanism\n- Documentation","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-24T12:46:04.490067-08:00","created_by":"mayor","updated_at":"2026-01-24T12:46:04.490067-08:00"}
{"id":"hq-8an","title":"Post-MR merge sync automation script","description":"Create automation script to detect Scenario A vs B and sync local branch after MR merge.\n\n**Context**: After MR merges, agent needs to sync local tracking branch but scenario detection is manual.\n\n**Implementation**:\nScript that:\n1. Detects scenario (git ls-remote check)\n2. If Scenario A (remote deleted):\n   - Validates no orphaned commits\n   - Resets local branch to parent\n   - Reports clean slate\n3. If Scenario B (remote retained):\n   - Rebases local branch on parent\n   - Detects duplicate commits (if squash merge)\n   - Cleans history if needed\n4. Reports actions taken\n\n**Usage**:\n```bash\ngt post-mr-sync --rig ai_agents\n# or\ngt post-mr-sync --rig zero\n```\n\n**Benefits**:\n- Reduces manual steps\n- Consistent scenario handling\n- Automatic duplicate detection\n- Clear reporting of actions\n\n**Related**: mayor/docs/PRIVATE-BRANCH-PROTOCOL-REVIEW.md Challenge 2\n\n**Acceptance Criteria**:\n- Script created in scripts/\n- Works for both ai_agents and zero\n- Handles both scenarios\n- Clear output of actions taken\n- Integrates with gt command suite","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-24T12:45:45.151319-08:00","created_by":"mayor","updated_at":"2026-01-24T12:45:45.151319-08:00"}
{"id":"hq-8mi","title":"Merge strategy detection and monitoring tool","description":"Create tool to detect and monitor remote merge strategy for private branch rigs.\n\n**Context**: Protocol safety depends on merge strategy (merge commit vs squash). Need to detect changes.\n\n**Implementation**:\nTool that:\n1. Analyzes recent merges on parent branch\n2. Determines strategy (fast-forward, merge commit, squash)\n3. Validates scenario compatibility\n4. Warns if strategy changes\n5. Updates rig configuration with findings\n\n**Detection Logic**:\n- Merge commit: 'Merge branch X into Y' commits present\n- Squash: Single commits, branch names absent\n- Fast-forward: Linear history\n\n**Monitoring**:\n- Run quarterly or on rig config change\n- Alert if strategy shifts to squash (breaks Scenario B)\n- Recommend protocol adjustments\n\n**Benefits**:\n- Early detection of strategy changes\n- Prevents duplicate commit issues\n- Validates scenario safety\n- Documents merge patterns\n\n**Related**: mayor/docs/PRIVATE-BRANCH-PROTOCOL-REVIEW.md Challenge 1, 6\n\n**Acceptance Criteria**:\n- Detection script created\n- Clear strategy identification\n- Scenario compatibility validation\n- Alert mechanism for changes\n- Updates rig config with findings","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-24T12:45:52.521703-08:00","created_by":"mayor","updated_at":"2026-01-24T12:45:52.521703-08:00"}
{"id":"hq-b6y","title":"Boot handoff","description":"Completed triage cycle.\nAction: NOTHING\nObservations: Deacon session alive, agent_state idle, no pending mail, no error signals\nTime: Mon Jan 26 15:51:32 PST 2026","status":"open","priority":2,"issue_type":"message","created_at":"2026-01-26T15:51:33.381803-08:00","created_by":"overseer","updated_at":"2026-01-26T15:51:33.381803-08:00"}
{"id":"hq-crew-role","title":"Crew Role","description":"Role definition for Crew agents. Persistent user-managed workspaces.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T08:19:33.32531Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:33.32531Z"}
{"id":"hq-deacon","title":"Deacon (daemon beacon) - receives mechanical heartbeats, runs town plugins and monitoring.","description":"Deacon (daemon beacon) - receives mechanical heartbeats, runs town plugins and monitoring.\n\nrole_type: deacon\nrig: null\nagent_state: idle\nhook_bead: null\nrole_bead: hq-deacon-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-21T08:19:33.656324Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:33.726467Z"}
{"id":"hq-deacon-role","title":"Deacon Role","description":"Role definition for Deacon agents. Daemon beacon for heartbeats and monitoring.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T08:19:32.494663Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:32.494663Z"}
{"id":"hq-dog-role","title":"Dog Role","description":"Role definition for Dog agents. Town-level workers for cross-rig tasks.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T08:19:32.661667Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:32.661667Z"}
{"id":"hq-h38","title":"Pre-reset orphaned commit validation for private branch sync","description":"Add validation check before resetting local tracking branch in Scenario A.\n\n**Context**: Private branch protocol risk - unpushed local commits could be lost when resetting branch after MR merge.\n\n**Implementation**:\n- Before git reset --hard in Scenario A\n- Check: git log origin/main..dixson3/track --oneline\n- If unpushed commits found: HALT and alert overseer\n- Options: abort reset, create backup branch, cherry-pick after reset\n- Require explicit confirmation before proceeding\n\n**Scenario**:\n1. Work on dixson3/track (commits A, B, C)\n2. Push, create MR (from A, B, C)\n3. Continue working (add commits D, E locally)\n4. MR merges, remote deletes branch\n5. Without validation: D, E lost on reset\n6. With validation: D, E detected, overseer notified\n\n**Benefits**:\n- Prevents work loss\n- Forces conscious decision about unpushed commits\n- Backup strategies can be applied\n\n**Related**: mayor/docs/PRIVATE-BRANCH-PROTOCOL-REVIEW.md Challenge 3\n\n**Acceptance Criteria**:\n- Pre-reset validation function\n- Clear alert with commit list\n- Options presented to overseer\n- Abort capability if unsure","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-24T12:45:37.662843-08:00","created_by":"mayor","updated_at":"2026-01-24T12:45:37.662843-08:00"}
{"id":"hq-mayor","title":"Mayor - global coordinator, handles cross-rig communication and escalations.","description":"Mayor - global coordinator, handles cross-rig communication and escalations.\n\nrole_type: mayor\nrig: null\nagent_state: idle\nhook_bead: null\nrole_bead: hq-mayor-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-21T08:19:33.492439Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:33.563096Z"}
{"id":"hq-mayor-role","title":"Mayor Role","description":"Role definition for Mayor agents. Global coordinator for cross-rig work.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T08:19:32.33183Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:32.33183Z"}
{"id":"hq-polecat-role","title":"Polecat Role","description":"Role definition for Polecat agents. Ephemeral workers for batch work dispatch.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T08:19:33.158728Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:33.158728Z"}
{"id":"hq-refinery-role","title":"Refinery Role","description":"Role definition for Refinery agents. Merge queue processor with verification gates.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T08:19:32.994903Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:32.994903Z"}
{"id":"hq-witness-role","title":"Witness Role","description":"Role definition for Witness agents. Per-rig worker monitor with progressive nudging.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T08:19:32.832662Z","created_by":"James Dixson","updated_at":"2026-01-21T08:19:32.832662Z"}
{"id":"lirt-lirt-refinery","title":"Refinery for lirt - processes merge queue.","description":"Refinery for lirt - processes merge queue.\n\nrole_type: refinery\nrig: lirt\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"James.Dixson@beyondidentity.com","created_at":"2026-01-27T11:11:40.066161-08:00","created_by":"mayor","updated_at":"2026-01-27T11:11:40.066161-08:00","labels":["gt:agent"]}
{"id":"lirt-lirt-witness","title":"Witness for lirt - monitors polecat health and progress.","description":"Witness for lirt - monitors polecat health and progress.\n\nrole_type: witness\nrig: lirt\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"James.Dixson@beyondidentity.com","created_at":"2026-01-27T11:11:39.90788-08:00","created_by":"mayor","updated_at":"2026-01-27T11:11:39.90788-08:00","labels":["gt:agent"]}
{"id":"lirt-rig-lirt","title":"lirt","description":"Rig identity bead for lirt.\n\nrepo: git@github.com:dixson3/lirt.git\nprefix: lirt\nstate: active","status":"open","priority":2,"issue_type":"task","owner":"James.Dixson@beyondidentity.com","created_at":"2026-01-27T11:11:40.194932-08:00","created_by":"mayor","updated_at":"2026-01-27T11:11:40.194932-08:00","labels":["gt:rig"]}
